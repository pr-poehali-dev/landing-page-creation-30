import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from '@/components/ui/dialog';
import { ScrollArea } from '@/components/ui/scroll-area';

interface PrivacyPolicyModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

const PrivacyPolicyModal = ({ open, onOpenChange }: PrivacyPolicyModalProps) => {
  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-4xl max-h-[90vh]">
        <DialogHeader>
          <DialogTitle className="text-2xl font-bold text-primary">
            Политика конфиденциальности и обработки персональных данных
          </DialogTitle>
          <DialogDescription>
            Политика в отношении обработки персональных данных премиум зоогостиницы «В гостях у Маши»
          </DialogDescription>
        </DialogHeader>
        
        <ScrollArea className="h-[calc(90vh-120px)] pr-4">
          <div className="space-y-6 text-sm text-muted-foreground">
            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">1. Общие положения</h3>
              <p className="mb-2">
                1.1. Настоящая Политика в отношении обработки персональных данных (далее — «Политика») действует в отношении всей информации, которую премиум зоогостиница «В гостях у Маши», расположенная по адресу: РФ, Приморский край, с. Кипарисово (далее — «Оператор», «Зоогостиница»), может получить о Пользователе во время использования сайта, а также при обращении по телефону, e‑mail и через иные каналы связи.
              </p>
              <p className="mb-2">
                1.2. Обработка персональных данных осуществляется в соответствии с Конституцией РФ, Федеральным законом от 27.07.2006 № 152‑ФЗ «О персональных данных», иными нормативными правовыми актами РФ в области защиты персональных данных.
              </p>
              <p>
                1.3. Заполняя формы на Сайте, направляя запросы и используя Сайт, Пользователь подтверждает, что ознакомился с настоящей Политикой, понимает её содержание и даёт согласие на обработку своих персональных данных на указанных в Политике условиях.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">2. Термины и определения</h3>
              <p className="mb-2">
                2.1. Персональные данные — любая информация, относящаяся к прямо или косвенно определённому или определяемому физическому лицу (субъекту персональных данных).
              </p>
              <p className="mb-2">
                2.2. Обработка персональных данных — любое действие (операция) или совокупность действий, совершаемых с использованием средств автоматизации или без их использования, включая сбор, запись, систематизацию, накопление, хранение, уточнение, извлечение, использование, передачу, обезличивание, блокирование, удаление, уничтожение персональных данных.
              </p>
              <p className="mb-2">
                2.3. Пользователь — любое дееспособное физическое лицо, посещающее Сайт и/или использующее его функционал, а также предоставляющее свои персональные данные посредством Сайта или иными способами.
              </p>
              <p>
                2.4. Оператор — лицо, самостоятельно или совместно с другими лицами организующее и/или осуществляющее обработку персональных данных, определяющее цели обработки персональных данных, состав персональных данных и действия (операции), совершаемые с персональными данными.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">3. Состав обрабатываемых персональных данных</h3>
              <p className="mb-2">3.1. Оператор может обрабатывать следующие категории персональных данных Пользователей:</p>
              <p className="mb-2 font-semibold">a) данные, указываемые при заполнении формы бронирования и обратной связи:</p>
              <ul className="list-disc pl-6 space-y-1 mb-3">
                <li>фамилия, имя, отчество (при наличии);</li>
                <li>номер телефона;</li>
                <li>адрес электронной почты (e‑mail);</li>
                <li>сведения о питомце (кличка, вид животного, порода, возраст, особенности здоровья и поведения);</li>
                <li>даты заселения и выселения, выбранный тариф и дополнительные услуги;</li>
                <li>иная информация, которую Пользователь добровольно указывает в форме «Особенности питомца» или при общении с администратором.</li>
              </ul>
              <p className="mb-2 font-semibold">b) данные, автоматически передаваемые при посещении Сайта:</p>
              <ul className="list-disc pl-6 space-y-1 mb-3">
                <li>IP‑адрес;</li>
                <li>данные о браузере и типе устройства;</li>
                <li>данные о технических характеристиках оборудования и программного обеспечения;</li>
                <li>информация о посещённых страницах, времени доступа, источнике перехода;</li>
                <li>файлы cookie и иные аналогичные технологии.</li>
              </ul>
              <p>
                3.2. Оператор не запрашивает и не обрабатывает специальные категории персональных данных (о расовой и национальной принадлежности, политических взглядах, религиозных или философских убеждениях, интимной жизни), за исключением случаев, прямо предусмотренных законодательством РФ.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">4. Цели обработки персональных данных</h3>
              <p className="mb-2">4.1. Персональные данные Пользователя обрабатываются в следующих целях:</p>
              <ul className="list-none pl-0 space-y-1">
                <li>a) приёма и обработки заявок на бронирование услуг зоогостиницы;</li>
                <li>b) связи с Пользователем (подтверждение бронирования, уточнение данных, согласование условий размещения);</li>
                <li>c) исполнения договорных обязательств по размещению и уходу за питомцем Пользователя;</li>
                <li>d) направления фото‑ и видеоотчётов о пребывании питомца по указанным Пользователем контактам;</li>
                <li>e) информирования о статусе заявки, изменениях условий бронирования, времени заселения/выезда;</li>
                <li>f) улучшения работы Сайта, анализа посещаемости и удобства интерфейса;</li>
                <li>g) исполнения требований законодательства РФ;</li>
                <li>h) направления новостей, акций и специальных предложений Зоогостиницы (при наличии отдельного согласия Пользователя на получение рекламных материалов).</li>
              </ul>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">5. Правовые основания обработки персональных данных</h3>
              <p className="mb-2">5.1. Оператор обрабатывает персональные данные Пользователя при наличии одного или нескольких из следующих оснований:</p>
              <ul className="list-none pl-0 space-y-1">
                <li>a) согласие субъекта персональных данных на обработку его персональных данных;</li>
                <li>b) заключение и исполнение договора, стороной или выгодоприобретателем по которому является Пользователь;</li>
                <li>c) исполнение обязанностей Оператора, возложенных законодательством РФ.</li>
              </ul>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">6. Порядок получения согласия на обработку персональных данных</h3>
              <p className="mb-2">
                6.1. Согласие Пользователя на обработку персональных данных предоставляется путём проставления отметки (галочки) в соответствующем чекбоксе под формой заявки на Сайте, а также путём продолжения использования Сайта при наличии баннера о cookies.
              </p>
              <p className="mb-2">
                6.2. Согласие действует до достижения целей обработки или до его отзыва Пользователем.
              </p>
              <p>
                6.3. Пользователь вправе в любой момент отозвать согласие на обработку персональных данных, направив письменное уведомление на электронный адрес Оператора: mashazoohot@mail.ru или по почтовому адресу Оператора. При этом Оператор вправе продолжить обработку данных в объёме и в течение срока, предусмотренных законодательством РФ для хранения документов и учёта.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">7. Обработка файлов cookie и аналогичных технологий</h3>
              <p className="mb-2">7.1. Сайт может использовать файлы cookie для:</p>
              <ul className="list-disc pl-6 space-y-1 mb-3">
                <li>обеспечения корректной работы Сайта и его отдельных функций;</li>
                <li>анализа статистики посещений и улучшения пользовательского опыта;</li>
                <li>запоминания настроек и предпочтений Пользователя.</li>
              </ul>
              <p className="mb-2">
                7.2. Пользователь может в любой момент изменить настройки обработки cookies в своём браузере, в том числе запретить их использование. При этом некоторые функции Сайта могут работать некорректно.
              </p>
              <p>
                7.3. При первом посещении Сайта Пользователю может быть показано уведомление (баннер) о применении файлов cookie с предложением ознакомиться с настоящей Политикой.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">8. Передача персональных данных третьим лицам</h3>
              <p className="mb-2">8.1. Оператор не передаёт персональные данные третьим лицам, за исключением следующих случаев:</p>
              <ul className="list-none pl-0 space-y-1 mb-3">
                <li>a) передача необходима для исполнения договора с Пользователем (например, платёжным агрегаторам при онлайн‑оплате услуг);</li>
                <li>b) передача предусмотрена законодательством РФ по запросу суда, правоохранительных и иных уполномоченных органов;</li>
                <li>c) Пользователь дал согласие на передачу данных третьим лицам;</li>
                <li>d) передача осуществляется в анонимном виде для целей статистики и аналитики.</li>
              </ul>
              <p>
                8.2. В случае привлечения третьих лиц для обработки персональных данных Оператор обеспечивает заключение с ними договоров, содержащих требования о соблюдении конфиденциальности и безопасности данных.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">9. Сроки хранения персональных данных</h3>
              <p className="mb-2">
                9.1. Персональные данные хранятся в форме, позволяющей определить субъекта персональных данных, не дольше, чем этого требуют цели обработки.
              </p>
              <p className="mb-2">
                9.2. По общему правилу данные, связанные с бронированием и оказанием услуг, хранятся в течение не более 3 (трёх) лет с момента последнего взаимодействия с Пользователем, если более длительный срок не установлен законодательством РФ (например, по правилам бухгалтерского учёта и налоговой отчётности).
              </p>
              <p>
                9.3. По истечении сроков хранения персональные данные подлежат уничтожению или обезличиванию.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">10. Права субъекта персональных данных</h3>
              <p className="mb-2">10.1. Пользователь имеет право:</p>
              <ul className="list-none pl-0 space-y-1 mb-3">
                <li>a) получать информацию, касающуюся обработки его персональных данных;</li>
                <li>b) требовать уточнения, блокирования или уничтожения своих персональных данных, если они являются неполными, устаревшими, неточными, незаконно полученными или не являются необходимыми для заявленной цели обработки;</li>
                <li>c) отозвать согласие на обработку персональных данных;</li>
                <li>d) обжаловать действия или бездействие Оператора в уполномоченный орган по защите прав субъектов персональных данных или в судебном порядке.</li>
              </ul>
              <p>
                10.2. Для реализации своих прав Пользователь может направить запрос на электронный адрес: mashazoohot@mail.ru.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">11. Меры по защите персональных данных</h3>
              <p className="mb-2">
                11.1. Оператор принимает необходимые и достаточные организационные и технические меры для защиты персональных данных от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения, а также от иных неправомерных действий.
              </p>
              <p>
                11.2. Доступ к персональным данным имеют только уполномоченные сотрудники Зоогостиницы, ознакомленные с требованиями законодательства РФ о персональных данных и настоящей Политикой.
              </p>
            </section>

            <section>
              <h3 className="text-lg font-bold text-foreground mb-3">12. Изменение Политики</h3>
              <p className="mb-2">
                12.1. Оператор вправе в любое время изменить настоящую Политику. Новая редакция Политики вступает в силу с момента её размещения на Сайте, если иное не предусмотрено новой редакцией.
              </p>
              <p>
                12.2. Рекомендуется регулярно знакомиться с действующей редакцией Политики.
              </p>
            </section>

            <div className="mt-6 pt-6 border-t border-border">
              <p className="text-sm font-semibold text-foreground mb-2">Контактная информация:</p>
              <ul className="list-none space-y-1 mb-4">
                <li><strong>Email:</strong> mashazoohot@mail.ru</li>
                <li><strong>Адрес:</strong> РФ, Приморский край, с. Кипарисово</li>
              </ul>
              <p className="text-xs text-muted-foreground">
                Дата последнего обновления: 15 января 2026 года
              </p>
            </div>
          </div>
        </ScrollArea>
      </DialogContent>
    </Dialog>
  );
};

export default PrivacyPolicyModal;